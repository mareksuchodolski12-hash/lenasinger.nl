# QUICK REFERENCE: Port 3002 Safe Startup

## One-Command Setup
```powershell
Copy-Item .env.local.example .env.local; notepad .env.local; npm install; npm run dev:safe
```

## Essential Commands

| Command | What It Does |
|---------|-------------|
| `npm run preflight` | Validate environment (no startup) |
| `npm run dev:safe` | Start with safety checks ‚≠ê **Use this** |
| `npm run dev` | Start without checks |
| `npm run lint` | Check code quality |

## What's Required in `.env.local`

```dotenv
NEXT_PUBLIC_SITE_URL=http://localhost:3002
NEXT_PUBLIC_SINGER_NAME=Your Name
```

That's it! Everything else is optional.

## Port 3002 Is Ready

‚úì Port hardcoded in all startup scripts  
‚úì Preflight validates before starting  
‚úì Security headers configured  
‚úì CORS restricted to localhost  
‚úì Windows PowerShell compatible  

## Preflight Checks (Automatic)

When you run `npm run dev:safe`:

1. **Node Version** ‚Äî Must be 18+ (20+ recommended)
2. **Environment File** ‚Äî `.env.local` must exist
3. **Required Variables** ‚Äî `NEXT_PUBLIC_SITE_URL` and `NEXT_PUBLIC_SINGER_NAME` must be set
4. **Security** ‚Äî No secrets in `NEXT_PUBLIC_` variables
5. **Port** ‚Äî Confirm 3002 is ready

## If Something Goes Wrong

```powershell
# Check what's happening
npm run preflight

# It shows the exact problem and how to fix it
```

## File Changes Summary

| File | Change |
|------|--------|
| `package.json` | Added `dev:safe` + preflight command |
| `scripts/preflight.mjs` | ‚ú® New validation script |
| `.env.example` | Marked REQUIRED/OPTIONAL |
| `.env.local.example` | Marked REQUIRED/OPTIONAL |
| `.env.local` | ‚ú® New (created from example) |
| `next.config.js` | Added CORS security headers |
| `LOCAL_STARTUP.md` | ‚ú® New detailed guide |

## Full Documentation

üìñ See `LOCAL_STARTUP.md` for complete setup guide with troubleshooting.

## Success = All Green

```
‚úì Node.js Version
‚úì Environment Configuration  
‚úì Environment Variables
‚úì Security Validation
‚úì Port Configuration

All checks passed! Ready at http://localhost:3002
```

---

**Everything is ready. Run:** `npm run dev:safe`
